{"ast":null,"code":"import { createContext as t, createElement as e, PureComponent as o, Children as r, cloneElement as n, createRef as i } from \"react\";\nimport { createPortal as a } from \"react-dom\";\n\nfunction s(t, e, o) {\n  return e in t ? Object.defineProperty(t, e, {\n    value: o,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : t[e] = o, t;\n}\n\nfunction p() {\n  return (p = Object.assign || function (t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var o = arguments[e];\n\n      for (var r in o) {\n        Object.prototype.hasOwnProperty.call(o, r) && (t[r] = o[r]);\n      }\n    }\n\n    return t;\n  }).apply(this, arguments);\n}\n\nfunction l(t, e) {\n  t.prototype = Object.create(e.prototype), t.prototype.constructor = t, t.__proto__ = e;\n}\n\nfunction c(t, e) {\n  if (null == t) return {};\n  var o,\n      r,\n      n = {},\n      i = Object.keys(t);\n\n  for (r = 0; r < i.length; r++) {\n    o = i[r], e.indexOf(o) >= 0 || (n[o] = t[o]);\n  }\n\n  return n;\n}\n\nfunction u(t) {\n  if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return t;\n}\n\nfunction h(t) {\n  return function (t) {\n    if (Array.isArray(t)) {\n      for (var e = 0, o = new Array(t.length); e < t.length; e++) {\n        o[e] = t[e];\n      }\n\n      return o;\n    }\n  }(t) || function (t) {\n    if (Symbol.iterator in Object(t) || \"[object Arguments]\" === Object.prototype.toString.call(t)) return Array.from(t);\n  }(t) || function () {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  }();\n}\n\nvar d = t(null),\n    f = !(\"[object process]\" === Object.prototype.toString.call(global.process) && !global.process.browser) ? require(\"mapbox-gl\") : null,\n    m = [\"resize\", \"remove\", \"mousedown\", \"mouseup\", \"mouseover\", \"mousemove\", \"click\", \"dblclick\", \"mouseenter\", \"mouseleave\", \"mouseout\", \"contextmenu\", \"touchstart\", \"touchend\", \"touchmove\", \"touchcancel\", \"movestart\", \"move\", \"moveend\", \"dragstart\", \"drag\", \"dragend\", \"zoomstart\", \"zoom\", \"zoomend\", \"rotatestart\", \"rotate\", \"rotateend\", \"pitchstart\", \"pitch\", \"pitchend\", \"boxzoomstart\", \"boxzoomend\", \"boxzoomcancel\", \"webglcontextlost\", \"webglcontextrestored\", \"load\", \"error\", \"data\", \"styledata\", \"sourcedata\", \"dataloading\", \"styledataloading\", \"sourcedataloading\"];\n\nvar g = function g(t) {\n  return t.charAt(0).toUpperCase() + t.slice(1);\n},\n    _ = function _(t, e) {\n  void 0 === t && (t = {}), void 0 === e && (e = {});\n  var o = new Set([].concat(h(Object.keys(t)), h(Object.keys(e))));\n  return h(o).reduce(function (o, r) {\n    var n = t[r];\n    return n !== e[r] && o.push([r, n]), o;\n  }, []);\n},\n    y = function y(t, e, o, r) {\n  var n = {\n    layers: [e]\n  };\n\n  if (r) {\n    var i = [[o[0] - r, o[1] - r], [o[0] + r, o[1] + r]];\n    return t.queryRenderedFeatures(i, n);\n  }\n\n  return t.queryRenderedFeatures(o, n);\n},\n    v = [[\"onClick\", \"click\"], [\"onHover\", \"mousemove\"], [\"onEnter\", \"mouseenter\"], [\"onLeave\", \"mouseleave\"]],\n    b = function (t) {\n  function o(e) {\n    var o;\n    return s(u(o = t.call(this, e) || this), \"$key\", void 0), s(u(o), \"$value\", void 0), s(u(o), \"_id\", void 0), s(u(o), \"_map\", void 0), s(u(o), \"_onClick\", void 0), s(u(o), \"_onHover\", void 0), s(u(o), \"_onEnter\", void 0), s(u(o), \"_onLeave\", void 0), s(u(o), \"_addLayer\", function (t) {\n      var e = o._map,\n          r = t.before,\n          n = (t.radius, t.onClick, t.onHover, t.onEnter, t.onLeave, c(t, [\"before\", \"radius\", \"onClick\", \"onHover\", \"onEnter\", \"onLeave\"]));\n      r && e.getLayer(r) ? e.addLayer(n, r) : e.addLayer(n), o._addEventListeners(t);\n    }), s(u(o), \"_addEventListeners\", function (t) {\n      v.forEach(function (e) {\n        var r = e[0],\n            n = e[1],\n            i = \"_\" + r;\n        t[r] && o._map.on(n, o._id, o[i]);\n      });\n    }), s(u(o), \"_updateEventListeners\", function (t, e) {\n      v.forEach(function (r) {\n        var n = r[0],\n            i = r[1],\n            a = \"_\" + n;\n        !e[n] && t[n] && o._map.off(i, o._id, o[a]), e[n] && !t[n] && o._map.on(i, o._id, o[a]);\n      });\n    }), s(u(o), \"_removeEventListeners\", function (t) {\n      v.forEach(function (e) {\n        var r = e[0],\n            n = e[1],\n            i = \"_\" + r;\n        t[r] && o._map.off(n, o._id, o[i]);\n      });\n    }), s(u(o), \"_onClick\", function (t) {\n      var e = [t.point.x, t.point.y],\n          r = y(o._map, o._id, e, o.props.radius);\n      o.props.onClick(p({}, t, {\n        features: r\n      }));\n    }), s(u(o), \"_onHover\", function (t) {\n      var e = [t.point.x, t.point.y],\n          r = y(o._map, o._id, e, o.props.radius);\n      o.props.onHover(p({}, t, {\n        features: r\n      }));\n    }), s(u(o), \"_onEnter\", function (t) {\n      var e = [t.point.x, t.point.y],\n          r = y(o._map, o._id, e, o.props.radius);\n      o.props.onEnter(p({}, t, {\n        features: r\n      }));\n    }), s(u(o), \"_onLeave\", function (t) {\n      var e = [t.point.x, t.point.y],\n          r = y(o._map, o._id, e, o.props.radius);\n      o.props.onLeave(p({}, t, {\n        features: r\n      }));\n    }), o._id = e.id, o;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    this._addLayer(this.props);\n  }, r.componentDidUpdate = function (t) {\n    var e = this,\n        o = this._map,\n        r = this.props,\n        n = r.id,\n        i = r.before,\n        a = (r.onClick, c(r, [\"id\", \"before\", \"onClick\"]));\n    if (n !== t.id || this.props.type !== t.type || \"background\" !== t.type && (this.props.source !== t.source || this.props[\"source-layer\"] !== t[\"source-layer\"])) return this._id = n, this._map.removeLayer(t.id), void this._addLayer(this.props);\n    i !== t.before && i && o.getLayer(i) && o.moveLayer(this._id, i), a.paint !== t.paint && _(a.paint, t.paint).forEach(function (t) {\n      var r = t[0],\n          n = t[1];\n      o.setPaintProperty(e._id, r, n);\n    }), a.layout !== t.layout && _(a.layout, t.layout).forEach(function (t) {\n      var r = t[0],\n          n = t[1];\n      o.setLayoutProperty(e._id, r, n);\n    }), a.filter !== t.filter && (a.filter ? o.setFilter(this._id, a.filter) : o.setFilter(this._id, void 0)), this._updateEventListeners(t, this.props);\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && (this._removeEventListeners(this.props), this._map.getLayer(this._id) && this._map.removeLayer(this._id));\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(b, \"displayName\", \"Layer\"), s(b, \"defaultProps\", {\n  radius: 0\n});\n\nvar w = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_id\", void 0), s(u(e), \"_map\", void 0), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this.props,\n        e = t.layer,\n        o = t.before;\n    o && this._map.getLayer(o) ? this._map.addLayer(e, o) : this._map.addLayer(e), this._id = e.id;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.getLayer(this._id) && this._map.removeLayer(this._id);\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(w, \"displayName\", \"CustomLayer\");\n\nvar S = [b, w],\n    L = function L(t) {\n  return S.includes(t.type);\n},\n    x = function x(t) {\n  var e = [];\n  return function t(e, o) {\n    r.forEach(o, function (o) {\n      o && (L(o) && e(o), o.props && o.props.children && t(e, o.props.children));\n    });\n  }(function (t) {\n    t.props.before || e.push(function (t) {\n      return t.props.id || t.props.layer.id;\n    }(t));\n  }, t), e;\n},\n    C = function (t) {\n  function o(e) {\n    var o;\n    return s(u(o = t.call(this, e) || this), \"_map\", void 0), s(u(o), \"_container\", void 0), s(u(o), \"state\", {\n      loaded: !1\n    }), s(u(o), \"_onViewportChange\", function (t) {\n      if (t.originalEvent) {\n        var e = o._map,\n            r = e.getCenter(),\n            n = r.lng,\n            i = {\n          latitude: r.lat,\n          longitude: n,\n          zoom: e.getZoom(),\n          pitch: e.getPitch(),\n          bearing: e.getBearing()\n        };\n        o.props.onViewportChange(i);\n      }\n    }), f && (f.accessToken = e.accessToken), o._container = i(), o;\n  }\n\n  l(o, t);\n  var a = o.prototype;\n  return a.componentDidMount = function () {\n    var t = this;\n\n    if (f) {\n      var e = this._container.current,\n          o = new f.Map({\n        container: e,\n        style: this.props.mapStyle,\n        interactive: !!this.props.onViewportChange,\n        center: [this.props.longitude, this.props.latitude],\n        zoom: this.props.zoom,\n        pitch: this.props.pitch,\n        bearing: this.props.bearing,\n        minZoom: this.props.minZoom,\n        maxZoom: this.props.maxZoom,\n        hash: this.props.hash,\n        bearingSnap: this.props.bearingSnap,\n        pitchWithRotate: this.props.pitchWithRotate,\n        attributionControl: this.props.attributionControl,\n        logoPosition: this.props.logoPosition,\n        failIfMajorPerformanceCaveat: this.props.failIfMajorPerformanceCaveat,\n        preserveDrawingBuffer: this.props.preserveDrawingBuffer,\n        antialias: this.props.antialias,\n        refreshExpiredTiles: this.props.refreshExpiredTiles,\n        maxBounds: this.props.maxBounds,\n        scrollZoom: this.props.scrollZoom,\n        boxZoom: this.props.boxZoom,\n        dragRotate: this.props.dragRotate,\n        dragPan: this.props.dragPan,\n        keyboard: this.props.keyboard,\n        doubleClickZoom: this.props.doubleClickZoom,\n        trackResize: this.props.trackResize,\n        renderWorldCopies: this.props.renderWorldCopies,\n        maxTileCacheSize: this.props.maxTileCacheSize,\n        localIdeographFontFamily: this.props.localIdeographFontFamily,\n        transformRequest: this.props.transformRequest,\n        collectResourceTiming: this.props.collectResourceTiming,\n        fadeDuration: this.props.fadeDuration,\n        crossSourceCollisions: this.props.crossSourceCollisions,\n        locale: this.props.locale\n      });\n      this._map = o, o.once(\"load\", function () {\n        t.setState({\n          loaded: !0\n        }, t.props.onLoad);\n      }), this.props.onViewportChange && (o.on(\"dragend\", this._onViewportChange), o.on(\"zoomend\", this._onViewportChange), o.on(\"rotateend\", this._onViewportChange), o.on(\"pitchend\", this._onViewportChange), o.on(\"boxzoomend\", this._onViewportChange)), m.forEach(function (e) {\n        var r = \"on\" + g(e),\n            n = t.props[r];\n        n && (Array.isArray(n) ? o.on.apply(o, [e].concat(h(n))) : o.on(e, n));\n      }), this.props.cursorStyle && (o.getCanvas().style.cursor = this.props.cursorStyle), this.props.showTileBoundaries && (this._map.showTileBoundaries = this.props.showTileBoundaries);\n    }\n  }, a.componentDidUpdate = function (t) {\n    this._updateMapViewport(t, this.props), this._updateMapStyle(t, this.props), !t.cursorStyle !== this.props.cursorStyle && (this._map.getCanvas().style.cursor = this.props.cursorStyle), t.showTileBoundaries !== this.props.showTileBoundaries && (this._map.showTileBoundaries = !!this.props.showTileBoundaries);\n  }, a.componentWillUnmount = function () {\n    this._map && this._map.remove();\n  }, a.getMap = function () {\n    return this._map;\n  }, a._updateMapStyle = function (t, e) {\n    var o = this,\n        r = e.mapStyle,\n        n = t.mapStyle;\n    r !== n && this.setState({\n      loaded: !1\n    }, function () {\n      o._map.setStyle(r), o._map.once(\"style.load\", function () {\n        return o.setState({\n          loaded: !0\n        });\n      });\n    });\n  }, a._updateMapViewport = function (t, e) {\n    var o = this._map,\n        r = o.getCenter();\n\n    if (e.latitude !== t.latitude && e.latitude !== r.lat || e.longitude !== t.longitude && e.longitude !== r.lng || e.zoom !== t.zoom && e.zoom !== o.getZoom() || e.pitch !== t.pitch && e.pitch !== o.getPitch() || e.bearing !== t.bearing && e.bearing !== o.getBearing()) {\n      var n = {\n        center: [e.longitude, e.latitude],\n        zoom: e.zoom,\n        pitch: e.pitch,\n        bearing: e.bearing\n      },\n          i = this.props,\n          a = i.viewportChangeMethod,\n          s = p({}, i.viewportChangeOptions, {}, n);\n\n      switch (a) {\n        case \"flyTo\":\n          o.flyTo(s);\n          break;\n\n        case \"jumpTo\":\n          o.jumpTo(s);\n          break;\n\n        case \"easeTo\":\n          o.easeTo(s);\n          break;\n\n        default:\n          throw new Error(\"Unknown viewport change method\");\n      }\n    }\n  }, a.render = function () {\n    var t = this.state.loaded,\n        o = this.props,\n        i = o.className,\n        a = o.style,\n        s = this.props.children ? function (t) {\n      var e = x(t);\n      e.shift();\n      return function t(o) {\n        return \"function\" == typeof o ? o : r.map(o, function (o) {\n          if (!o) return o;\n\n          if (L(o)) {\n            var r = o.props.before || e.shift();\n            return n(o, {\n              before: r\n            });\n          }\n\n          return o.props && o.props.children ? n(o, {\n            children: t(o.props.children)\n          }) : o;\n        });\n      }(t);\n    }(this.props.children) : null;\n    return e(d.Provider, {\n      value: this._map\n    }, e(\"div\", {\n      ref: this._container,\n      style: a,\n      className: i\n    }, t && s));\n  }, o;\n}(o);\n\ns(C, \"displayName\", \"MapGL\"), s(C, \"defaultProps\", {\n  children: null,\n  className: null,\n  style: null,\n  mapStyle: \"mapbox://styles/mapbox/light-v8\",\n  accessToken: null,\n  bearing: 0,\n  pitch: 0,\n  minZoom: 0,\n  maxZoom: 22,\n  maxBounds: null,\n  hash: !1,\n  bearingSnap: 7,\n  pitchWithRotate: !0,\n  attributionControl: !0,\n  logoPosition: \"bottom-left\",\n  failIfMajorPerformanceCaveat: !1,\n  preserveDrawingBuffer: !1,\n  antialias: !1,\n  refreshExpiredTiles: !0,\n  boxZoom: !0,\n  scrollZoom: !0,\n  dragRotate: !0,\n  dragPan: !0,\n  keyboard: !0,\n  doubleClickZoom: !0,\n  trackResize: !0,\n  renderWorldCopies: !0,\n  maxTileCacheSize: null,\n  onViewportChange: null,\n  onLoad: null,\n  localIdeographFontFamily: null,\n  transformRequest: null,\n  collectResourceTiming: !1,\n  fadeDuration: 300,\n  crossSourceCollisions: !0,\n  locale: null,\n  cursorStyle: null,\n  viewportChangeMethod: \"jumpTo\",\n  viewportChangeOptions: null\n});\n\nvar T = function T(t, e) {\n  if (void 0 === t && (t = []), void 0 === e && (e = []), t.length !== e.length) return !1;\n\n  for (var o = 0; o < t.length; o += 1) {\n    if (t[o] !== e[o]) return !1;\n  }\n\n  return !0;\n},\n    k = function k(t) {\n  switch (t.type) {\n    case \"vector\":\n      return p({\n        type: \"vector\"\n      }, t);\n\n    case \"raster\":\n      return p({\n        type: \"raster\"\n      }, t);\n\n    case \"raster-dem\":\n      return p({\n        type: \"raster-dem\"\n      }, t);\n\n    case \"geojson\":\n      return p({\n        type: \"geojson\"\n      }, t);\n\n    case \"video\":\n      return p({\n        type: \"video\"\n      }, t);\n\n    case \"image\":\n      return p({\n        type: \"image\"\n      }, t);\n\n    default:\n      throw new Error(\"Unknown type for '\" + t.id + \"' Source\");\n  }\n},\n    D = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(u(e), \"state\", {\n      loaded: !1\n    }), s(u(e), \"_onSourceData\", function () {\n      e._map.isSourceLoaded(e.props.id) && (e._map.off(\"sourcedata\", e._onSourceData), e.setState({\n        loaded: !0\n      }));\n    }), s(u(e), \"_updateGeoJSONSource\", function (t, o, r) {\n      if (r.data !== o.data) {\n        var n = e._map.getSource(t);\n\n        void 0 !== n && n.setData(r.data);\n      }\n    }), s(u(e), \"_updateImageSource\", function (t, o, r) {\n      if (r.url !== o.url || r.coordinates !== o.coordinates) {\n        var n = e._map.getSource(t);\n\n        void 0 !== n && n.updateImage(r);\n      }\n    }), s(u(e), \"_updateTileSource\", function (t, o, r) {\n      if (r.url !== o.url || !T(r.tiles, o.tiles)) {\n        var n = e._map.getSource(t);\n\n        n._tileJSONRequest && n._tileJSONRequest.cancel(), n.url = r.url, n.scheme = r.scheme, n._options = p({}, n._options, {}, r);\n        var i = e._map.style.sourceCaches[t];\n        i && i.clearTiles(), n.load();\n      }\n    }), s(u(e), \"_removeSource\", function () {\n      var t = e.props.id;\n\n      if (e._map.getSource(t)) {\n        var o = e._map.getStyle().layers;\n\n        o && o.forEach(function (o) {\n          o.source === t && e._map.removeLayer(o.id);\n        }), e._map.removeSource(t);\n      }\n    }), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = k(this.props),\n        e = t.id,\n        o = (t.children, c(t, [\"id\", \"children\"]));\n    this._map.addSource(e, o), this._map.on(\"sourcedata\", this._onSourceData);\n  }, r.componentDidUpdate = function (t) {\n    var e = k(t),\n        o = e.id,\n        r = (e.children, c(e, [\"id\", \"children\"])),\n        n = k(this.props),\n        i = n.id,\n        a = (n.children, c(n, [\"id\", \"children\"]));\n    if (i !== o || a.type !== r.type) return this._map.removeSource(o), void this._map.addSource(i, a);\n    \"geojson\" !== a.type || \"geojson\" !== r.type ? \"image\" !== a.type || \"image\" !== r.type ? \"vector\" !== a.type || \"vector\" !== r.type ? \"raster\" === a.type && \"raster\" === r.type && this._updateTileSource(i, r, a) : this._updateTileSource(i, r, a) : this._updateImageSource(i, r, a) : this._updateGeoJSONSource(i, r, a);\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._removeSource();\n  }, r.render = function () {\n    var t = this,\n        o = this.state.loaded,\n        r = this.props.children;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), o && r;\n    });\n  }, o;\n}(o);\n\ns(D, \"displayName\", \"Source\");\n\nvar O = function (t) {\n  function o(e) {\n    var o;\n    return s(u(o = t.call(this, e) || this), \"_map\", void 0), s(u(o), \"_el\", void 0), s(u(o), \"_popup\", void 0), o._el = document.createElement(\"div\"), o;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this.props,\n        e = t.longitude,\n        o = t.latitude,\n        r = t.offset,\n        n = t.closeButton,\n        i = t.closeOnClick,\n        a = t.onClose,\n        s = t.anchor,\n        p = t.className;\n    this._popup = new f.Popup({\n      offset: r,\n      closeButton: n,\n      closeOnClick: i,\n      anchor: s,\n      className: p\n    }), this._popup.setDOMContent(this._el), this._popup.setLngLat([e, o]).addTo(this._map), a && this._popup.on(\"close\", a);\n  }, r.componentDidUpdate = function (t) {\n    (t.latitude !== this.props.latitude || t.longitude !== this.props.longitude) && this._popup.setLngLat([this.props.longitude, this.props.latitude]);\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._popup.remove();\n  }, r.getPopup = function () {\n    return this._popup;\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), a(t.props.children, t._el);\n    });\n  }, o;\n}(o);\n\ns(O, \"displayName\", \"Popup\"), s(O, \"defaultProps\", {\n  closeButton: !0,\n  closeOnClick: !0,\n  onClose: null,\n  anchor: null,\n  offset: null,\n  className: null\n});\n\nvar j = function (t) {\n  function o(e) {\n    var o;\n    return s(u(o = t.call(this, e) || this), \"_map\", void 0), s(u(o), \"_el\", void 0), s(u(o), \"_marker\", void 0), s(u(o), \"_onDragEnd\", function () {\n      o.props.onDragEnd(o._marker.getLngLat());\n    }), s(u(o), \"_onDragStart\", function () {\n      o.props.onDragStart(o._marker.getLngLat());\n    }), s(u(o), \"_onDrag\", function () {\n      o.props.onDrag(o._marker.getLngLat());\n    }), o._el = document.createElement(\"div\"), o;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this.props,\n        e = t.longitude,\n        o = t.latitude,\n        r = t.offset,\n        n = t.draggable,\n        i = t.onDragEnd,\n        a = t.onDragStart,\n        s = t.onDrag;\n    this._marker = new f.Marker(this._el, {\n      draggable: n,\n      offset: r\n    }), this._marker.setLngLat([e, o]).addTo(this._map), i && this._marker.on(\"dragend\", this._onDragEnd), a && this._marker.on(\"dragstart\", this._onDragStart), s && this._marker.on(\"drag\", this._onDrag);\n  }, r.componentDidUpdate = function (t) {\n    (t.latitude !== this.props.latitude || t.longitude !== this.props.longitude) && this._marker.setLngLat([this.props.longitude, this.props.latitude]);\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._marker.remove();\n  }, r.getMarker = function () {\n    return this._marker;\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), a(t.props.children, t._el);\n    });\n  }, o;\n}(o);\n\ns(j, \"displayName\", \"Marker\"), s(j, \"defaultProps\", {\n  offset: null,\n  draggable: !1\n});\n\nvar E = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.id,\n        r = e.source,\n        n = e.sourceLayer,\n        i = e.state;\n    t.setFeatureState({\n      id: o,\n      source: r,\n      sourceLayer: n\n    }, i);\n  }, r.componentDidUpdate = function (t) {\n    var e = this._map,\n        o = this.props,\n        r = o.id,\n        n = o.source,\n        i = o.sourceLayer,\n        a = o.state;\n    r === t.id && n === t.source && i === t.sourceLayer && a === t.state || (e.removeFeatureState({\n      id: t.id,\n      source: t.source,\n      sourceLayer: t.sourceLayer\n    }), e.setFeatureState({\n      id: r,\n      source: n,\n      sourceLayer: i\n    }, a));\n  }, r.componentWillUnmount = function () {\n    if (this._map && this._map.getStyle()) {\n      var t = this.props,\n          e = t.id,\n          o = t.source,\n          r = t.sourceLayer;\n\n      this._map.removeFeatureState({\n        id: e,\n        source: o,\n        sourceLayer: r\n      });\n    }\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o),\n    U = function (t) {\n  function o(e) {\n    var o;\n    return s(u(o = t.call(this, e) || this), \"_map\", void 0), s(u(o), \"_id\", void 0), s(u(o), \"_loadImage\", function (t, e) {\n      \"string\" != typeof t ? e(t) : o._map.loadImage(t, function (t, o) {\n        if (t) throw t;\n        e(o);\n      });\n    }), o._id = e.id, o;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this,\n        e = this.props,\n        o = e.image,\n        r = e.pixelRatio,\n        n = e.sdf;\n\n    this._loadImage(o, function (e) {\n      return t._map.addImage(t._id, e, {\n        pixelRatio: r,\n        sdf: n\n      });\n    });\n  }, r.componentDidUpdate = function (t) {\n    var e = this,\n        o = this.props,\n        r = o.id,\n        n = o.image,\n        i = o.pixelRatio,\n        a = o.sdf;\n    if (r !== t.id || a !== t.sdf || i !== t.pixelRatio) return this._id = r, this._map.removeImage(t.id), void this._loadImage(n, function (t) {\n      return e._map.addImage(e._id, t, {\n        pixelRatio: i,\n        sdf: a\n      });\n    });\n    n !== t.image && this._loadImage(n, function (t) {\n      return e._map.updateImage(e._id, t);\n    });\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.hasImage(this._id) && this._map.removeImage(this._id);\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(U, \"defaultProps\", {\n  pixelRatio: 1,\n  sdf: !1\n});\n\nvar M = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(u(e), \"_control\", void 0), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.compact,\n        r = e.customAttribution,\n        n = e.position,\n        i = new f.AttributionControl({\n      compact: o,\n      customAttribution: r\n    });\n    t.addControl(i, n), this._control = i;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(M, \"defaultProps\", {\n  position: \"bottom-right\"\n});\n\nvar P = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(u(e), \"_control\", void 0), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.container,\n        r = e.position,\n        n = new f.FullscreenControl({\n      container: o\n    });\n    t.addControl(n, r), this._control = n;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(P, \"defaultProps\", {\n  position: \"top-right\"\n});\n\nvar F = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(u(e), \"_control\", void 0), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.positionOptions,\n        r = e.fitBoundsOptions,\n        n = e.trackUserLocation,\n        i = e.showUserLocation,\n        a = e.position,\n        s = e.onTrackUserLocationEnd,\n        p = e.onTrackUserLocationStart,\n        l = e.onError,\n        c = e.onGeolocate,\n        u = new f.GeolocateControl({\n      positionOptions: o,\n      fitBoundsOptions: r,\n      trackUserLocation: n,\n      showUserLocation: i\n    });\n    s && u.on(\"trackuserlocationend\", s), p && u.on(\"trackuserlocationstart\", p), l && u.on(\"error\", l), c && u.on(\"geolocate\", c), t.addControl(u, a), this._control = u;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(F, \"defaultProps\", {\n  positionOptions: {\n    enableHighAccuracy: !1,\n    timeout: 6e3\n  },\n  fitBoundsOptions: {\n    maxZoom: 15\n  },\n  trackUserLocation: !1,\n  showUserLocation: !0\n});\n\nvar I = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(u(e), \"_control\", void 0), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.showCompass,\n        r = e.showZoom,\n        n = e.position,\n        i = new f.NavigationControl({\n      showCompass: o,\n      showZoom: r\n    });\n    t.addControl(i, n), this._control = i;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(I, \"defaultProps\", {\n  position: \"top-right\"\n});\n\nvar z = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(u(e), \"_control\", void 0), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.maxWidth,\n        r = e.unit,\n        n = e.position,\n        i = new f.ScaleControl({\n      maxWidth: o,\n      unit: r\n    });\n    t.addControl(i, n), this._control = i;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\nfunction B(t, e) {\n  return t(e = {\n    exports: {}\n  }, e.exports), e.exports;\n}\n\ns(z, \"defaultProps\", {\n  position: \"bottom-right\",\n  unit: \"metric\"\n});\n\nvar R = B(function (t) {\n  function e(t) {\n    if (t = Object.assign({}, t), !(this instanceof e)) throw new Error(\"MapboxLanguage needs to be called with the new keyword\");\n    this.setLanguage = this.setLanguage.bind(this), this._initialStyleUpdate = this._initialStyleUpdate.bind(this), this._defaultLanguage = t.defaultLanguage, this._isLanguageField = t.languageField || /^\\{name/, this._getLanguageField = t.getLanguageField || function (t) {\n      return \"mul\" === t ? \"{name}\" : \"{name_\" + t + \"}\";\n    }, this._languageSource = t.languageSource || null, this._languageTransform = t.languageTransform || function (t, e) {\n      return \"ar\" === e ? function (t) {\n        var e = t.layers.map(function (t) {\n          if (!(t.layout || {})[\"text-field\"]) return t;\n          return Object.assign({}, t, {\n            layout: Object.assign({}, t.layout, {\n              \"text-letter-spacing\": 0\n            })\n          });\n        });\n        return Object.assign({}, t, {\n          layers: e\n        });\n      }(t) : function (t) {\n        var e = t.layers.map(function (t) {\n          if (!(t.layout || {})[\"text-field\"]) return t;\n          var e = 0;\n          return \"state_label\" === t[\"source-layer\"] && (e = .15), \"marine_label\" === t[\"source-layer\"] && (/-lg/.test(t.id) && (e = .25), /-md/.test(t.id) && (e = .15), /-sm/.test(t.id) && (e = .1)), \"place_label\" === t[\"source-layer\"] && (/-suburb/.test(t.id) && (e = .15), /-neighbour/.test(t.id) && (e = .1), /-islet/.test(t.id) && (e = .01)), \"airport_label\" === t[\"source-layer\"] && (e = .01), \"rail_station_label\" === t[\"source-layer\"] && (e = .01), \"poi_label\" === t[\"source-layer\"] && /-scalerank/.test(t.id) && (e = .01), \"road_label\" === t[\"source-layer\"] && (/-label-/.test(t.id) && (e = .01), /-shields/.test(t.id) && (e = .05)), Object.assign({}, t, {\n            layout: Object.assign({}, t.layout, {\n              \"text-letter-spacing\": e\n            })\n          });\n        });\n        return Object.assign({}, t, {\n          layers: e\n        });\n      }(t);\n    }, this._excludedLayerIds = t.excludedLayerIds || [], this.supportedLanguages = t.supportedLanguages || [\"ar\", \"en\", \"es\", \"fr\", \"de\", \"ja\", \"ko\", \"mul\", \"pt\", \"ru\", \"zh\"];\n  }\n\n  function o(t, e, o) {\n    if (function (t, e) {\n      return \"string\" == typeof e && t.test(e);\n    }(t, e)) return o;\n\n    if (function (t, e) {\n      return e.stops && e.stops.filter(function (e) {\n        return t.test(e[1]);\n      }).length > 0;\n    }(t, e)) {\n      var r = e.stops.map(function (e) {\n        return t.test(e[1]) ? [e[0], o] : e;\n      });\n      return Object.assign({}, e, {\n        stops: r\n      });\n    }\n\n    return e;\n  }\n\n  e.prototype.setLanguage = function (t, e) {\n    if (this.supportedLanguages.indexOf(e) < 0) throw new Error(\"Language \" + e + \" is not supported\");\n\n    var r = this._languageSource || function (t) {\n      return Object.keys(t.sources).filter(function (e) {\n        var o = t.sources[e];\n        return /mapbox-streets-v\\d/.test(o.url);\n      })[0];\n    }(t);\n\n    if (!r) return t;\n\n    var n = this._getLanguageField(e),\n        i = this._isLanguageField,\n        a = this._excludedLayerIds,\n        s = t.layers.map(function (t) {\n      return t.source === r ? function (t, e, r, n) {\n        return e.layout && e.layout[\"text-field\"] && -1 === n.indexOf(e.id) ? Object.assign({}, e, {\n          layout: Object.assign({}, e.layout, {\n            \"text-field\": o(t, e.layout[\"text-field\"], r)\n          })\n        }) : e;\n      }(i, t, n, a) : t;\n    }),\n        p = Object.assign({}, t, {\n      layers: s\n    });\n\n    return this._languageTransform(p, e);\n  }, e.prototype._initialStyleUpdate = function () {\n    var t = this._map.getStyle(),\n        e = this._defaultLanguage || function (t) {\n      var e = navigator.languages ? navigator.languages[0] : navigator.language || navigator.userLanguage,\n          o = e.split(\"-\"),\n          r = e;\n      o.length > 1 && (r = o[0]);\n      if (t.indexOf(r) > -1) return r;\n      return null;\n    }(this.supportedLanguages);\n\n    this._map.off(\"styledata\", this._initialStyleUpdate), this._map.setStyle(this.setLanguage(t, e));\n  }, e.prototype.onAdd = function (t) {\n    return this._map = t, this._map.on(\"styledata\", this._initialStyleUpdate), this._container = document.createElement(\"div\"), this._container;\n  }, e.prototype.onRemove = function () {\n    this._map.off(\"styledata\", this._initialStyleUpdate), this._map = void 0;\n  }, t.exports = e;\n}),\n    A = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(u(e), \"_control\", void 0), s(u(e), \"_setLanguage\", function () {\n      var t = e.props.language,\n          o = e._map,\n          r = e._control;\n      t && o.setStyle(r.setLanguage(o.getStyle(), t));\n    }), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.supportedLanguages,\n        r = e.languageTransform,\n        n = e.languageField,\n        i = e.getLanguageField,\n        a = e.languageSource,\n        s = e.defaultLanguage,\n        p = new R({\n      supportedLanguages: o,\n      languageTransform: r,\n      languageField: n,\n      getLanguageField: i,\n      languageSource: a,\n      defaultLanguage: s\n    });\n    t.addControl(p), this._control = p;\n  }, r.componentDidUpdate = function (t) {\n    t.language !== this.props.language && this._setLanguage();\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(A, \"defaultProps\", {});\n\nvar W = B(function (t) {\n  var e = [{\n    id: \"traffic-street-link-bg\",\n    type: \"line\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    source: \"mapbox://mapbox.mapbox-traffic-v1\",\n    \"source-layer\": \"traffic\",\n    minzoom: 15,\n    filter: [\"all\", [\"==\", \"$type\", \"LineString\"], [\"all\", [\"has\", \"congestion\"], [\"in\", \"class\", \"link\", \"motorway_link\", \"service\", \"street\"]]],\n    layout: {\n      visibility: \"visible\",\n      \"line-join\": \"round\",\n      \"line-cap\": \"round\"\n    },\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[14, 2.5], [20, 15.5]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(145, 95%, 30%)\"], [\"moderate\", \"hsl(30, 100%, 42%)\"], [\"heavy\", \"hsl(355, 100%, 37%)\"], [\"severe\", \"hsl(355, 70%, 22%)\"]]\n      },\n      \"line-offset\": {\n        base: 1.5,\n        stops: [[14, 2], [20, 18]]\n      },\n      \"line-opacity\": {\n        base: 1,\n        stops: [[15, 0], [16, 1]]\n      }\n    }\n  }, {\n    id: \"traffic-secondary-tertiary-bg\",\n    type: \"line\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    source: \"mapbox://mapbox.mapbox-traffic-v1\",\n    \"source-layer\": \"traffic\",\n    minzoom: 6,\n    filter: [\"all\", [\"==\", \"$type\", \"LineString\"], [\"all\", [\"has\", \"congestion\"], [\"in\", \"class\", \"secondary\", \"tertiary\"]]],\n    layout: {\n      visibility: \"visible\",\n      \"line-join\": \"round\",\n      \"line-cap\": \"round\"\n    },\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[9, 1.5], [18, 11], [20, 16.5]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(145, 95%, 30%)\"], [\"moderate\", \"hsl(30, 100%, 42%)\"], [\"heavy\", \"hsl(355, 100%, 37%)\"], [\"severe\", \"hsl(355, 70%, 22%)\"]]\n      },\n      \"line-offset\": {\n        base: 1.5,\n        stops: [[10, .5], [15, 5], [18, 11], [20, 14.5]]\n      },\n      \"line-opacity\": {\n        base: 1,\n        stops: [[13, 0], [14, 1]]\n      }\n    }\n  }, {\n    id: \"traffic-primary-bg\",\n    type: \"line\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    source: \"mapbox://mapbox.mapbox-traffic-v1\",\n    \"source-layer\": \"traffic\",\n    minzoom: 6,\n    filter: [\"all\", [\"==\", \"$type\", \"LineString\"], [\"all\", [\"==\", \"class\", \"primary\"], [\"has\", \"congestion\"]]],\n    layout: {\n      visibility: \"visible\",\n      \"line-join\": \"round\",\n      \"line-cap\": \"round\"\n    },\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[10, .75], [15, 6], [20, 18]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(145, 95%, 30%)\"], [\"moderate\", \"hsl(30, 100%, 42%)\"], [\"heavy\", \"hsl(355, 100%, 37%)\"], [\"severe\", \"hsl(355, 70%, 22%)\"]]\n      },\n      \"line-offset\": {\n        base: 1.2,\n        stops: [[10, 0], [12, 1.5], [18, 13], [20, 16]]\n      },\n      \"line-opacity\": {\n        base: 1,\n        stops: [[11, 0], [12, 1]]\n      }\n    }\n  }, {\n    id: \"traffic-trunk-bg\",\n    type: \"line\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    source: \"mapbox://mapbox.mapbox-traffic-v1\",\n    \"source-layer\": \"traffic\",\n    minzoom: 6,\n    filter: [\"all\", [\"==\", \"$type\", \"LineString\"], [\"all\", [\"==\", \"class\", \"trunk\"], [\"has\", \"congestion\"]]],\n    layout: {\n      visibility: \"visible\",\n      \"line-join\": \"round\",\n      \"line-cap\": \"round\"\n    },\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[8, .5], [9, 2.25], [18, 13], [20, 17.5]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(145, 95%, 30%)\"], [\"moderate\", \"hsl(30, 100%, 42%)\"], [\"heavy\", \"hsl(355, 100%, 37%)\"], [\"severe\", \"hsl(355, 70%, 22%)\"]]\n      },\n      \"line-offset\": {\n        base: 1.5,\n        stops: [[7, 0], [9, 1], [18, 13], [20, 18]]\n      },\n      \"line-opacity\": 1\n    }\n  }, {\n    id: \"traffic-motorway-bg\",\n    type: \"line\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    source: \"mapbox://mapbox.mapbox-traffic-v1\",\n    \"source-layer\": \"traffic\",\n    minzoom: 6,\n    filter: [\"all\", [\"==\", \"$type\", \"LineString\"], [\"all\", [\"==\", \"class\", \"motorway\"], [\"has\", \"congestion\"]]],\n    layout: {\n      visibility: \"visible\",\n      \"line-join\": \"round\",\n      \"line-cap\": \"round\"\n    },\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[6, .5], [9, 3], [18, 16], [20, 20]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(145, 95%, 30%)\"], [\"moderate\", \"hsl(30, 100%, 42%)\"], [\"heavy\", \"hsl(355, 100%, 37%)\"], [\"severe\", \"hsl(355, 70%, 22%)\"]]\n      },\n      \"line-opacity\": 1,\n      \"line-offset\": {\n        base: 1.5,\n        stops: [[7, 0], [9, 1.2], [11, 1.2], [18, 10], [20, 15.5]]\n      }\n    }\n  }, {\n    id: \"traffic-primary\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    ref: \"traffic-primary-bg\",\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[10, 1], [15, 4], [20, 16]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(142, 55%, 50%)\"], [\"moderate\", \"hsl(30, 100%, 55%)\"], [\"heavy\", \"hsl(355, 100%, 50%)\"], [\"severe\", \"hsl(355, 70%, 35%)\"]]\n      },\n      \"line-offset\": {\n        base: 1.2,\n        stops: [[10, 0], [12, 1.5], [18, 13], [20, 16]]\n      },\n      \"line-opacity\": 1\n    }\n  }, {\n    id: \"traffic-secondary-tertiary\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    ref: \"traffic-secondary-tertiary-bg\",\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[9, .5], [18, 9], [20, 14]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(142, 55%, 50%)\"], [\"moderate\", \"hsl(30, 100%, 55%)\"], [\"heavy\", \"hsl(355, 100%, 50%)\"], [\"severe\", \"hsl(355, 70%, 35%)\"]]\n      },\n      \"line-offset\": {\n        base: 1.5,\n        stops: [[10, .5], [15, 5], [18, 11], [20, 14.5]]\n      },\n      \"line-opacity\": 1\n    }\n  }, {\n    id: \"traffic-street-link\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    ref: \"traffic-street-link-bg\",\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[14, 1.5], [20, 13.5]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(142, 55%, 50%)\"], [\"moderate\", \"hsl(30, 100%, 55%)\"], [\"heavy\", \"hsl(355, 100%, 50%)\"], [\"severe\", \"hsl(355, 70%, 35%)\"]]\n      },\n      \"line-offset\": {\n        base: 1.5,\n        stops: [[14, 2], [20, 18]]\n      },\n      \"line-opacity\": 1\n    }\n  }, {\n    id: \"traffic-trunk\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    ref: \"traffic-trunk-bg\",\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[8, .75], [18, 11], [20, 15]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(142, 55%, 50%)\"], [\"moderate\", \"hsl(30, 100%, 55%)\"], [\"heavy\", \"hsl(355, 100%, 50%)\"], [\"severe\", \"hsl(355, 70%, 35%)\"]]\n      },\n      \"line-offset\": {\n        base: 1.5,\n        stops: [[7, 0], [9, 1], [18, 13], [20, 18]]\n      },\n      \"line-opacity\": 1\n    }\n  }, {\n    id: \"traffic-motorway\",\n    metadata: {\n      \"mapbox:group\": \"4053de47c16e55481b10fd748eaa994c\"\n    },\n    ref: \"traffic-motorway-bg\",\n    paint: {\n      \"line-width\": {\n        base: 1.5,\n        stops: [[6, .5], [9, 1.5], [18, 14], [20, 18]]\n      },\n      \"line-color\": {\n        base: 1,\n        type: \"categorical\",\n        property: \"congestion\",\n        stops: [[\"low\", \"hsl(142, 55%, 50%)\"], [\"moderate\", \"hsl(30, 100%, 55%)\"], [\"heavy\", \"hsl(355, 100%, 50%)\"], [\"severe\", \"hsl(355, 70%, 35%)\"]]\n      },\n      \"line-opacity\": 1,\n      \"line-offset\": {\n        base: 1.5,\n        stops: [[7, 0], [9, 1.2], [11, 1.2], [18, 10], [20, 15.5]]\n      }\n    }\n  }];\n\n  function o(t) {\n    if (!(this instanceof o)) throw new Error(\"MapboxTraffic needs to be called with the new keyword\");\n    this.options = Object.assign({\n      showTraffic: !1,\n      showTrafficButton: !0,\n      trafficSource: /mapbox-traffic-v\\d/\n    }, t), this.render = this.render.bind(this), this.toggleTraffic = this.toggleTraffic.bind(this), this._hideTraffic = this._hideTraffic.bind(this), this._showTraffic = this._showTraffic.bind(this), this._hasTraffic = this._hasTraffic.bind(this), this._toggle = new r({\n      show: this.options.showTrafficButton,\n      onToggle: this.toggleTraffic.bind(this)\n    });\n  }\n\n  function r(t) {\n    var e;\n    t = Object.assign({\n      show: !0,\n      onToggle: function onToggle() {}\n    }, t), this._btn = ((e = document.createElement(\"button\")).className = \"mapboxgl-ctrl-icon mapboxgl-ctrl-traffic\", e.type = \"button\", e[\"aria-label\"] = \"Inspect\", e), this._btn.onclick = t.onToggle, this.elem = function (t, e) {\n      var o = document.createElement(\"div\");\n      return o.className = \"mapboxgl-ctrl mapboxgl-ctrl-group\", o.appendChild(t), e || (o.style.display = \"none\"), o;\n    }(this._btn, t.show);\n  }\n\n  o.prototype._hasTraffic = function () {\n    var t = this._map.getStyle(),\n        e = this.options.trafficSource;\n\n    return Object.keys(t.sources).filter(function (t) {\n      return e.test(t);\n    }).length > 0;\n  }, o.prototype.toggleTraffic = function () {\n    this.options.showTraffic = !this.options.showTraffic, this.render();\n  }, o.prototype.render = function () {\n    if (!this._hasTraffic()) {\n      this._map.addSource(\"mapbox://mapbox.mapbox-traffic-v1\", {\n        type: \"vector\",\n        url: \"mapbox://mapbox.mapbox-traffic-v1\"\n      });\n\n      var t = this._map.getStyle().layers.filter(function (t) {\n        return \"road\" === t[\"source-layer\"];\n      }),\n          o = t[t.length - 1].id,\n          r = function (t, e, o) {\n        for (var r = 0; r < t.layers.length; r++) {\n          if (o === t.layers[r].id) {\n            var n = t.layers.slice(0, r).concat(e).concat(t.layers.slice(r));\n            return Object.assign({}, t, {\n              layers: n\n            });\n          }\n        }\n\n        return t;\n      }(this._map.getStyle(), e, o);\n\n      this._map.setStyle(r);\n    }\n\n    this.options.showTraffic ? (this._showTraffic(), this._toggle.setMapIcon()) : (this._hideTraffic(), this._toggle.setTrafficIcon());\n  }, o.prototype._hideTraffic = function () {\n    var t = this._map.getStyle(),\n        e = this.options.trafficSource;\n\n    t.layers.forEach(function (t) {\n      e.test(t.source) && (t.layout = t.layout || {}, t.layout.visibility = \"none\");\n    }), this._map.setStyle(t);\n  }, o.prototype._showTraffic = function () {\n    var t = this._map.getStyle(),\n        e = this.options.trafficSource;\n\n    t.layers.forEach(function (t) {\n      e.test(t.source) && (t.layout = t.layout || {}, t.layout.visibility = \"visible\");\n    }), this._map.setStyle(t);\n  }, o.prototype.onAdd = function (t) {\n    return this._map = t, t.on(\"load\", this.render), this._toggle.elem;\n  }, o.prototype.onRemove = function () {\n    this._map.off(\"load\", this.render);\n\n    var t = this._toggle.elem;\n    t.parentNode.removeChild(t), this._map = void 0;\n  }, r.prototype.setTrafficIcon = function () {\n    this._btn.className = \"mapboxgl-ctrl-icon mapboxgl-ctrl-traffic\";\n  }, r.prototype.setMapIcon = function () {\n    this._btn.className = \"mapboxgl-ctrl-icon mapboxgl-ctrl-map\";\n  }, t.exports = o;\n}),\n    N = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(u(e), \"_control\", void 0), s(u(e), \"_addControl\", function () {\n      var t = e.props,\n          o = t.showTraffic,\n          r = t.showTrafficButton,\n          n = t.trafficSource,\n          i = new W({\n        showTraffic: o,\n        showTrafficButton: r,\n        trafficSource: n\n      });\n      e._map.addControl(i), e._control = i;\n    }), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    this._addControl();\n  }, r.componentDidUpdate = function (t) {\n    t.showTraffic !== this.props.showTraffic && this._control.toggleTraffic(), (t.showTrafficButton !== this.props.showTrafficButton || t.trafficSource !== this.props.trafficSource) && (this._map.removeControl(this._control), this._addControl());\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(N, \"defaultProps\", {\n  showTraffic: !1,\n  showTrafficButton: !0,\n  trafficSource: /mapbox-traffic-v\\d/\n});\n\nvar Z = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) {\n      r[n] = arguments[n];\n    }\n\n    return s(u(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), e;\n  }\n\n  l(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    this._setFilter();\n  }, r.componentDidUpdate = function (t) {\n    var e = t.filter,\n        o = t.validate,\n        r = this.props,\n        n = r.filter,\n        i = r.validate;\n    (!T(e, n) || o !== i) && this._setFilter();\n  }, r.componentWillUnmount = function () {\n    if (this._map && this._map.getStyle()) {\n      var t = this.props.layerId;\n      void 0 !== this._map.getLayer(t) && this._map.setFilter(t, void 0);\n    }\n  }, r._setFilter = function () {\n    var t = this.props,\n        e = t.layerId,\n        o = t.filter,\n        r = t.validate;\n    void 0 !== this._map.getLayer(e) && (Array.isArray(o) ? this._map.setFilter(e, o, {\n      validate: r\n    }) : this._map.setFilter(e, void 0));\n  }, r.render = function () {\n    var t = this;\n    return e(d.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(Z, \"defaultProps\", {\n  validate: !0\n});\nexport default C;\nexport { M as AttributionControl, w as CustomLayer, E as FeatureState, Z as Filter, P as FullscreenControl, F as GeolocateControl, U as Image, A as LanguageControl, b as Layer, d as MapContext, j as Marker, I as NavigationControl, O as Popup, z as ScaleControl, D as Source, N as TrafficControl };","map":null,"metadata":{},"sourceType":"module"}