{"ast":null,"code":"import _toConsumableArray from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nexport var host = 'http://localhost:3000';\nexport var getId = function getId(str) {\n  var string = str.split('/');\n  return string[string.length - 1];\n};\nexport var titleToSlug = function titleToSlug(str) {\n  var string = str;\n  string = string.replace(/^\\s+|\\s+$/g, ''); // trim\n\n  string = string.toLowerCase(); // remove accents, swap ñ for n, etc\n\n  var from = 'àáäâèéëêìíïîòóöôùúüûñç·/_,:;';\n  var to = 'aaaaeeeeiiiioooouuuunc------';\n\n  for (var i = 0, l = from.length; i < l; i += 1) {\n    string = string.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\n  }\n\n  string = string.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\n  .replace(/\\s+/g, '-') // collapse whitespace and replace by -\n  .replace(/-+/g, '-'); // collapse dashes\n\n  return string;\n};\nexport var slugToTitle = function slugToTitle(slug) {\n  var words = slug.split('-');\n\n  for (var i = 0; i < words.length; i += 1) {\n    var word = words[i];\n    words[i] = word.charAt(0).toUpperCase() + word.slice(1);\n  }\n\n  return words.join(' ');\n};\nexport var getExcerpt = function getExcerpt(text) {\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var except = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '...';\n  var content = text;\n  content = content.split(/<\\s*p[^>]*>([^<]*)<\\s*\\/\\s*p\\s*>/);\n  content = content.filter(function (v) {\n    return v.length > 100;\n  });\n  content = content[0].replace(/<[^>]+>/g, '');\n  return content.substring(0, limit) + except;\n};\nexport var getAllCategories = function getAllCategories(params) {\n  var _ref;\n\n  var items = params;\n  var categories = items.map(function (item) {\n    return item.categories;\n  });\n  categories = (_ref = []).concat.apply(_ref, _toConsumableArray(categories));\n  var setCategories = new Set(categories);\n  var sorted = Array.from(setCategories).sort();\n  var objects = sorted.map(function (item, index) {\n    return {\n      id: index,\n      slug: item,\n      title: slugToTitle(item)\n    };\n  });\n  return objects;\n};\nexport var WebpIsSupported = function WebpIsSupported(callback) {\n  // If the browser doesn't has the method createImageBitmap, you can't display webp format\n  if (!window.createImageBitmap) {\n    callback(false);\n    return;\n  } // Base64 representation of a white point image\n\n\n  var webpdata = 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEAAQAcJaQAA3AA/v3AgAA='; // Retrieve the Image in Blob Format\n\n  fetch(webpdata).then(function (response) {\n    return response.blob();\n  }).then(function (blob) {\n    // If the createImageBitmap method succeeds, return true, otherwise false\n    createImageBitmap(blob).then(function () {\n      callback(true);\n    }, function () {\n      callback(false);\n    });\n  });\n};\nexport var getCloudinaryImage = function getCloudinaryImage(img) {\n  var widthSize = 0;\n  var heightSize;\n  var imageType = 'jpg';\n  WebpIsSupported(function (isSupported) {\n    if (isSupported) {\n      imageType = 'webp';\n    }\n  });\n\n  if (window.screen.width >= 860) {\n    widthSize = 332;\n    heightSize = 186;\n  } else if (window.screen.width >= 640 && window.screen.width < 860) {\n    widthSize = 250;\n    heightSize = 140;\n  } else {\n    widthSize = 96;\n    heightSize = 54;\n  }\n\n  var fetchUrl = \"https://res.cloudinary.com/rizalibnu/image/fetch/c_fill,g_auto:face,h_\".concat(heightSize, \",w_\").concat(widthSize, \",fl_force_strip.progressive/f_\").concat(imageType, \"/\");\n  return fetchUrl + img;\n};","map":{"version":3,"sources":["/home/marjaan/sandBox/projects/marketo-pwa/src/utils/helpers.js"],"names":["host","getId","str","string","split","length","titleToSlug","replace","toLowerCase","from","to","i","l","RegExp","charAt","slugToTitle","slug","words","word","toUpperCase","slice","join","getExcerpt","text","limit","except","content","filter","v","substring","getAllCategories","params","items","categories","map","item","concat","setCategories","Set","sorted","Array","sort","objects","index","id","title","WebpIsSupported","callback","window","createImageBitmap","webpdata","fetch","then","response","blob","getCloudinaryImage","img","widthSize","heightSize","imageType","isSupported","screen","width","fetchUrl"],"mappings":"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","sourcesContent":["export const host = 'http://localhost:3000';\n\nexport const getId = (str) => {\n  const string = str.split('/');\n  return string[string.length - 1];\n};\n\nexport const titleToSlug = (str) => {\n  let string = str;\n  string = string.replace(/^\\s+|\\s+$/g, ''); // trim\n  string = string.toLowerCase();\n\n  // remove accents, swap ñ for n, etc\n  const from = 'àáäâèéëêìíïîòóöôùúüûñç·/_,:;';\n  const to = 'aaaaeeeeiiiioooouuuunc------';\n\n  for (let i = 0, l = from.length; i < l; i += 1) {\n    string = string.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\n  }\n\n  string = string.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\n    .replace(/\\s+/g, '-') // collapse whitespace and replace by -\n    .replace(/-+/g, '-'); // collapse dashes\n\n  return string;\n};\n\nexport const slugToTitle = (slug) => {\n  const words = slug.split('-');\n\n  for (let i = 0; i < words.length; i += 1) {\n    const word = words[i];\n    words[i] = word.charAt(0).toUpperCase() + word.slice(1);\n  }\n\n  return words.join(' ');\n};\n\nexport const getExcerpt = (text, limit = 0, except = '...') => {\n  let content = text;\n  content = content.split(/<\\s*p[^>]*>([^<]*)<\\s*\\/\\s*p\\s*>/);\n  content = content.filter(v => v.length > 100);\n  content = content[0].replace(/<[^>]+>/g, '');\n  return content.substring(0, limit) + except;\n};\n\nexport const getAllCategories = (params) => {\n  const items = params;\n  let categories = items.map(item => item.categories);\n  categories = [].concat(...categories);\n  const setCategories = new Set(categories);\n  const sorted = Array.from(setCategories).sort();\n  const objects = sorted.map((item, index) => ({\n    id: index,\n    slug: item,\n    title: slugToTitle(item),\n  }));\n\n  return objects;\n};\n\nexport const WebpIsSupported = (callback) => {\n  // If the browser doesn't has the method createImageBitmap, you can't display webp format\n  if (!window.createImageBitmap) {\n    callback(false);\n    return;\n  }\n\n  // Base64 representation of a white point image\n  const webpdata = 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEAAQAcJaQAA3AA/v3AgAA=';\n\n  // Retrieve the Image in Blob Format\n  fetch(webpdata).then(response => response.blob()).then((blob) => {\n    // If the createImageBitmap method succeeds, return true, otherwise false\n    createImageBitmap(blob).then(() => {\n      callback(true);\n    }, () => {\n      callback(false);\n    });\n  });\n};\n\nexport const getCloudinaryImage = (img) => {\n  let widthSize = 0;\n  let heightSize;\n  let imageType = 'jpg';\n\n  WebpIsSupported((isSupported) => {\n    if (isSupported) {\n      imageType = 'webp';\n    }\n  });\n\n  if (window.screen.width >= 860) {\n    widthSize = 332;\n    heightSize = 186;\n  } else if (window.screen.width >= 640 && window.screen.width < 860) {\n    widthSize = 250;\n    heightSize = 140;\n  } else {\n    widthSize = 96;\n    heightSize = 54;\n  }\n\n  const fetchUrl = `https://res.cloudinary.com/rizalibnu/image/fetch/c_fill,g_auto:face,h_${heightSize},w_${widthSize},fl_force_strip.progressive/f_${imageType}/`;\n\n  return fetchUrl + img;\n};\n"]},"metadata":{},"sourceType":"module"}