{"ast":null,"code":"import _objectSpread from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/marjaan/sandBox/projects/marketo-pwa/src/components/Home/Search/Search.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport productReq from '../../../requests/products';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nvar useStyles = makeStyles({\n  root: {\n    paddingTop: 8,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  input: {\n    fontFamily: 'IranSans'\n  },\n  paper: {\n    display: 'flex',\n    alignItems: 'center',\n    borderRadius: 10,\n    height: 40,\n    padding: \"0 10px\",\n    flex: 1,\n    backgroundColor: 'white',\n    justifyContent: 'space-between'\n  },\n  iconButton: {}\n});\n\nvar Search = function Search() {\n  var history = useHistory();\n  var classes = useStyles();\n  var dispatch = useDispatch();\n\n  var _useState = useState({\n    title: '',\n    status: 'ACTIVE' // categoryId: 3\n\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      params = _useState2[0],\n      setParams = _useState2[1];\n\n  var searchbyTitle =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(event) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault(); //id is null\n\n              _context.prev = 1;\n              dispatch({\n                loading: true,\n                type: 'SHOW_LOADING'\n              });\n              _context.next = 5;\n              return productReq(params, null);\n\n            case 5:\n              response = _context.sent;\n              dispatch({\n                products: response.data,\n                type: 'SET_PRODUCTS'\n              });\n\n              if (response.data) {\n                history.push(\"/products/?title=\".concat(params.title));\n              }\n\n              dispatch({\n                loading: false,\n                type: 'SHOW_LOADING'\n              });\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              dispatch({\n                loading: false,\n                type: 'SHOW_LOADING'\n              });\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 11]]);\n    }));\n\n    return function searchbyTitle(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    component: \"form\",\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(InputBase, {\n    className: classes.input,\n    placeholder: \"\\u062F\\u0646\\u0628\\u0627\\u0644 \\u0686\\u06CC \\u0645\\u06CC\\u06AF\\u0631\\u062F\\u06CC\\u061F\",\n    inputProps: {\n      'aria-label': 'search google maps'\n    },\n    value: params.title,\n    onChange: function onChange(event) {\n      setParams(_objectSpread({}, params, {\n        title: event.target.value\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(IconButton, {\n    onClick: searchbyTitle,\n    className: classes.iconButton,\n    \"aria-label\": \"search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(SearchIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/home/marjaan/sandBox/projects/marketo-pwa/src/components/Home/Search/Search.jsx"],"names":["React","useState","useEffect","makeStyles","Paper","InputBase","IconButton","SearchIcon","productReq","useHistory","useDispatch","useStyles","root","paddingTop","display","alignItems","input","fontFamily","paper","borderRadius","height","padding","flex","backgroundColor","justifyContent","iconButton","Search","history","classes","dispatch","title","status","params","setParams","searchbyTitle","event","preventDefault","loading","type","response","products","data","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport productReq from '../../../requests/products';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\n\nconst useStyles = makeStyles({\n  root: {\n    paddingTop: 8,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  input: {\n    fontFamily: 'IranSans'\n  },\n    paper: {\n        display: 'flex',\n        alignItems: 'center',\n        borderRadius: 10,\n        height: 40,\n        padding: \"0 10px\",\n        flex: 1,\n        backgroundColor: 'white',\n        justifyContent: 'space-between'\n\n      },\n      iconButton: {\n      },\n  });\nconst Search = () => {\n    const history = useHistory();\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    const [params, setParams] = useState({\n      title: '',\n      status: 'ACTIVE',\n      // categoryId: 3\n    });\n    const searchbyTitle = async (event) => {\n      event.preventDefault();\n      //id is null\n      try {\n        dispatch({loading: true, type: 'SHOW_LOADING'});\n        \n        const response = await productReq(params, null);\n        dispatch({products: response.data, type: 'SET_PRODUCTS'});\n        if(response.data) {\n          history.push(`/products/?title=${params.title}`);\n        } \n        dispatch({loading: false, type: 'SHOW_LOADING'});\n\n        \n      } catch (error) {\n        dispatch({loading: false, type: 'SHOW_LOADING'});\n        \n      }\n    }   \n    \n    return(\n         <div className={classes.root}>\n            <Paper component=\"form\" className={classes.paper}>\n            <InputBase\n              className={classes.input}\n              placeholder=\"دنبال چی میگردی؟\"\n              inputProps={{ 'aria-label': 'search google maps' }}\n              value={params.title}\n              onChange={(event) => {\n                setParams({\n                  ...params,\n                  title : event.target.value\n                })\n              }}\n\n            />\n            <IconButton onClick={searchbyTitle} className={classes.iconButton} aria-label=\"search\">\n              <SearchIcon />\n            </IconButton>\n          </Paper>\n         </div>\n\n    )\n}\nexport default Search;"]},"metadata":{},"sourceType":"module"}