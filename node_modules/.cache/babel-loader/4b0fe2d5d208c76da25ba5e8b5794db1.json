{"ast":null,"code":"import _regeneratorRuntime from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/marjaan/sandBox/projects/marketo-pwa/src/components/Products/ProductItems/index.jsx\";\nimport React, { useEffect } from 'react';\nimport SingleProductItem from './SingleProductItem/index';\nimport { useSelector, useDispatch } from 'react-redux';\nimport productReq from '../../../requests/products';\nimport { defaultProps } from 'recompose';\nimport { useLocation } from 'react-router-dom';\nimport injectSheet from 'react-jss';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      paddingTop: 3,\n      paddingBottom: 5\n    },\n    item: {\n      display: 'flex',\n      padding: [[18, 0]]\n    },\n    imageWrapper: {\n      flexShrink: 0\n    },\n    image: {\n      objectFit: 'cover',\n      display: 'inline-block',\n      backgroundColor: 'rgba(0, 0, 0, 0.067)',\n      width: 96,\n      height: 54,\n      '@media (min-width: 640px)': {\n        width: 250,\n        height: 140\n      },\n      '@media (min-width: 860px)': {\n        width: 332,\n        height: 186\n      }\n    },\n    bodyWrapper: {\n      paddingLeft: 18,\n      flex: '1 1 auto'\n    },\n    title: {\n      composes: 'heading',\n      lineHeight: 1,\n      '& a': {\n        fontSize: 18,\n        color: theme.baseColor\n      },\n      '@media (min-width: 640px)': {\n        lineHeight: 1.5,\n        '& a': {\n          fontSize: 21\n        }\n      }\n    },\n    excerpt: {\n      position: 'absolute',\n      opacity: 0,\n      pointerEvents: 'none',\n      left: '-999em',\n      lineHeight: 1.6,\n      margin: [[18, 0]],\n      '@media (min-width: 640px)': {\n        position: 'static',\n        opacity: 1,\n        pointerEvents: 'auto',\n        color: theme.textMuted\n      }\n    },\n    info: {\n      fontSize: 13,\n      marginRight: 6,\n      color: theme.textMuted\n    }\n  };\n};\n\nvar ProductItemsList = function ProductItemsList(props) {\n  var classes = props.classes;\n  var location = useLocation();\n  var products = useSelector(function (state) {\n    return state.products;\n  });\n  var dispatch = useDispatch();\n\n  var renderProductItems = function renderProductItems() {\n    if (products.length > 0) {\n      var productItems = products.filter(function (i) {\n        return i.id === location.state.id;\n      });\n      productItems = productItems[0].items;\n      return productItems.map(function (product, idx) {\n        return React.createElement(SingleProductItem, {\n          pid: location.state.id,\n          product: product,\n          key: idx,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        });\n      });\n    }\n  };\n\n  var fetchProducts =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var params, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              params = {};\n              dispatch({\n                loading: true,\n                type: 'SHOW_LOADING'\n              });\n              _context.next = 5;\n              return productReq(params, null);\n\n            case 5:\n              response = _context.sent;\n              dispatch({\n                products: response.data,\n                type: 'SET_PRODUCTS'\n              });\n              dispatch({\n                loading: false,\n                type: 'SHOW_LOADING'\n              });\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              dispatch({\n                loading: false,\n                type: 'SHOW_LOADING'\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function fetchProducts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (products.length === 0) {\n      fetchProducts();\n    }\n  }, []);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, renderProductItems()));\n};\n\nexport default injectSheet(styles)(ProductItemsList);","map":{"version":3,"sources":["/home/marjaan/sandBox/projects/marketo-pwa/src/components/Products/ProductItems/index.jsx"],"names":["React","useEffect","SingleProductItem","useSelector","useDispatch","productReq","defaultProps","useLocation","injectSheet","styles","theme","root","display","flexDirection","paddingTop","paddingBottom","item","padding","imageWrapper","flexShrink","image","objectFit","backgroundColor","width","height","bodyWrapper","paddingLeft","flex","title","composes","lineHeight","fontSize","color","baseColor","excerpt","position","opacity","pointerEvents","left","margin","textMuted","info","marginRight","ProductItemsList","props","classes","location","products","state","dispatch","renderProductItems","length","productItems","filter","i","id","items","map","product","idx","fetchProducts","params","loading","type","response","data"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport SingleProductItem from './SingleProductItem/index'\nimport { useSelector, useDispatch } from 'react-redux';\nimport productReq from '../../../requests/products';\nimport { defaultProps } from 'recompose';\nimport { useLocation } from 'react-router-dom';\nimport injectSheet from 'react-jss';\n\n\nconst styles = theme => ({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      paddingTop: 3,\n      paddingBottom: 5\n    },\n    item: {\n      display: 'flex',\n      padding: [[18, 0]],\n    },\n    imageWrapper: {\n      flexShrink: 0,\n    },\n    image: {\n      objectFit: 'cover',\n      display: 'inline-block',\n      backgroundColor: 'rgba(0, 0, 0, 0.067)',\n      width: 96,\n      height: 54,\n      '@media (min-width: 640px)': {\n        width: 250,\n        height: 140,\n      },\n      '@media (min-width: 860px)': {\n        width: 332,\n        height: 186,\n      },\n    },\n    bodyWrapper: {\n      paddingLeft: 18,\n      flex: '1 1 auto',\n    },\n    title: {\n      composes: 'heading',\n      lineHeight: 1,\n      '& a': {\n        fontSize: 18,\n        color: theme.baseColor,\n      },\n      '@media (min-width: 640px)': {\n        lineHeight: 1.5,\n        '& a': {\n          fontSize: 21,\n        },\n      },\n    },\n    excerpt: {\n      position: 'absolute',\n      opacity: 0,\n      pointerEvents: 'none',\n      left: '-999em',\n      lineHeight: 1.6,\n      margin: [[18, 0]],\n      '@media (min-width: 640px)': {\n        position: 'static',\n        opacity: 1,\n        pointerEvents: 'auto',\n        color: theme.textMuted,\n      },\n    },\n    info: {\n      fontSize: 13,\n      marginRight: 6,\n      color: theme.textMuted,\n    },\n  });\nconst ProductItemsList = (props) => {\n  const {classes} = props;\n\n    const location = useLocation();\n    const products = useSelector(state => state.products);\n    const dispatch = useDispatch();\n    const renderProductItems = () => {\n        if(products.length > 0){\n            let productItems = products.filter(i => i.id === location.state.id);\n            productItems = productItems[0].items;\n             \n            return(\n                productItems.map((product, idx) => {\n                    return(\n                        <SingleProductItem pid={location.state.id} product={product} key={idx}/>\n                    )\n                })\n            )\n        }\n        \n    }\n    const fetchProducts = async() => {\n        try {\n            const params = {};\n        dispatch({loading: true, type: 'SHOW_LOADING'});\n\n        const response = await productReq(params, null);\n        \n        dispatch({products: response.data, type: 'SET_PRODUCTS'});\n        dispatch({loading: false, type: 'SHOW_LOADING'});\n\n        } catch (error) {\n        dispatch({loading: false, type: 'SHOW_LOADING'});\n            \n        }\n    }\n    useEffect(() => {\n        \n        if(products.length === 0) \n        {\n           \n        fetchProducts();\n        }\n    },[])\n    return(\n        <React.Fragment>\n            <div className={classes.root}>\n            {\n                renderProductItems()\n            }\n            </div>\n        </React.Fragment>\n    )\n}\nexport default injectSheet(styles)(ProductItemsList);"]},"metadata":{},"sourceType":"module"}