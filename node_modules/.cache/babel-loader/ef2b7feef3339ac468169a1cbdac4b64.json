{"ast":null,"code":"import _regeneratorRuntime from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/marjaan/sandBox/projects/marketo-pwa/src/containers/AddressContainer/index.jsx\";\nimport React from 'react';\nimport AddressList from '../../components/Address/AddressList/AddressList';\nimport { Button, RadioGroup } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport PinDropIcon from '@material-ui/icons/PinDrop';\nimport AddCircleIcon from '@material-ui/icons/AddCircleOutline';\nimport SingleAddress from \"../../components/Address/SingleAddress/SingleAddress\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport HeaderText from '../../mainComponents/HeaderText/HeaderText';\nimport axiosAuth from '../../config/axiosAuth';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useState } from 'react';\nimport axiosInstance from '../../config/axiosTest';\nvar useStyles = makeStyles({\n  root: {\n    paddingTop: 10\n  },\n  title: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  button: {\n    position: 'fixed',\n    bottom: \"10%\",\n    backgroundColor: '#2C7BE5',\n    color: 'white',\n    borderRadius: 10,\n    width: '40%',\n    fontFamily: 'IranSans',\n    right: '30%'\n  },\n  locIcon: {\n    color: '#2C7BE5',\n    fontSize: 40\n  },\n  plusIcon: {\n    color: '#2C7BE5',\n    fontSize: 25,\n    marginTop: 10\n  },\n  titleText: {\n    fontSize: 15,\n    fontWeight: 700,\n    padding: 20\n  },\n  newAddress: {\n    display: 'flex',\n    justifyContent: 'start',\n    flexDirection: 'row',\n    cursor: 'pointer',\n    marginRight: 13\n  },\n  newAddressTitle: {\n    color: '#2C7BE5',\n    fontSize: 13,\n    marginTop: 10,\n    padding: 2,\n    fontFamily: 'IranSans',\n    marginRight: 5\n  }\n});\n\nvar AddressContainer = function AddressContainer() {\n  var classes = useStyles();\n  var history = useHistory();\n  var dispatch = useDispatch();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var token = useSelector(function (state) {\n    return state.token;\n  });\n  var orderId = useSelector(function (state) {\n    return state.orderId;\n  });\n\n  var _useState3 = useState({\n    list: []\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      addresses = _useState4[0],\n      setAddresses = _useState4[1];\n\n  var getAddresses =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              delete axiosAuth.defaults.headers.common['user_id'];\n              axiosAuth.defaults.headers.common['Authorization'] = \"Bearer \".concat(token);\n              delete axiosAuth.defaults.headers.common['user_id'];\n              _context.next = 5;\n              return axiosAuth.get('/user/v1.0/profile/attributes');\n\n            case 5:\n              response = _context.sent;\n              setAddresses(_objectSpread({}, addresses, {\n                list: response.data.result.data.addresses\n              }));\n              dispatch({\n                addresses: response.data.result.data.addresses,\n                type: 'SET_ADDRESSES'\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getAddresses() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var setAddressAndShipment = function setAddressAndShipment(address) {\n    dispatch({\n      shipmentOrder: address,\n      type: 'SET_SHIPMENT_ORDER'\n    });\n  };\n\n  var renderAddresses = function renderAddresses() {\n    return addresses.list.map(function (address, idx) {\n      return React.createElement(SingleAddress, {\n        address: address,\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      });\n    });\n  };\n\n  var handleChange = function handleChange(event) {\n    setValue(event.target.value);\n    var addressItem = addresses.list.filter(function (i) {\n      return i.address === event.target.value;\n    })[0];\n    debugger;\n    dispatch({\n      shipmentOrder: addressItem,\n      type: 'SET_SHIPMENT_ORDER'\n    });\n  };\n\n  useEffect(function () {\n    if (token !== null) getAddresses();else history.push('/auth/login');\n  }, []);\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(HeaderText, {\n    text: \"\\u0622\\u062F\\u0631\\u0633 \\u062A\\u062D\\u0648\\u06CC\\u0644 \\u0633\\u0641\\u0627\\u0631\\u0634 \\u062E\\u0648\\u062F \\u0631\\u0627 \\u0627\\u0646\\u062A\\u062E\\u0627\\u0628 \\u0646\\u0645\\u0627\\u06CC\\u06CC\\u062F\",\n    icon: \"PinDropIcon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(RadioGroup, {\n    value: value,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, renderAddresses(), React.createElement(Button, {\n    disabled: value === '' ? true : false,\n    onClick: function onClick() {\n      history.push('/deliveryTime');\n    },\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"\\u0627\\u0646\\u062A\\u062E\\u0627\\u0628 \\u0632\\u0645\\u0627\\u0646 \\u062A\\u062D\\u0648\\u06CC\\u0644\")), React.createElement(\"div\", {\n    className: classes.newAddress,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(AddCircleIcon, {\n    className: classes.plusIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(Button, {\n    className: classes.newAddressTitle,\n    onClick: function onClick() {\n      history.push('/createaddress');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"\\u0622\\u062F\\u0631\\u0633 \\u062C\\u062F\\u06CC\\u062F\")));\n};\n\nexport default AddressContainer;","map":{"version":3,"sources":["/home/marjaan/sandBox/projects/marketo-pwa/src/containers/AddressContainer/index.jsx"],"names":["React","AddressList","Button","RadioGroup","useHistory","PinDropIcon","AddCircleIcon","SingleAddress","makeStyles","HeaderText","axiosAuth","useEffect","useSelector","useDispatch","useState","axiosInstance","useStyles","root","paddingTop","title","display","justifyContent","flexDirection","alignItems","button","position","bottom","backgroundColor","color","borderRadius","width","fontFamily","right","locIcon","fontSize","plusIcon","marginTop","titleText","fontWeight","padding","newAddress","cursor","marginRight","newAddressTitle","AddressContainer","classes","history","dispatch","value","setValue","token","state","orderId","list","addresses","setAddresses","getAddresses","defaults","headers","common","get","response","data","result","type","setAddressAndShipment","address","shipmentOrder","renderAddresses","map","idx","handleChange","event","target","addressItem","filter","i","push"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AddressList from '../../components/Address/AddressList/AddressList';\nimport {Button, RadioGroup} from '@material-ui/core';\nimport {useHistory} from 'react-router-dom';\nimport PinDropIcon from '@material-ui/icons/PinDrop';\nimport AddCircleIcon from '@material-ui/icons/AddCircleOutline';\nimport SingleAddress from \"../../components/Address/SingleAddress/SingleAddress\";\nimport {  makeStyles} from \"@material-ui/styles\";\nimport HeaderText from '../../mainComponents/HeaderText/HeaderText';\nimport axiosAuth from '../../config/axiosAuth';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useState } from 'react';\nimport axiosInstance from '../../config/axiosTest';\nconst useStyles = makeStyles({\n    root: {\n        paddingTop: 10\n    },\n    title: {\n        display: 'flex',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    button: {\n\t\tposition: 'fixed',\n\t\tbottom: \"10%\",\n\t\tbackgroundColor: '#2C7BE5',\n\t\tcolor: 'white',\n\t\tborderRadius: 10,\n\t\twidth: '40%',\n\t\tfontFamily: 'IranSans',\n\t\tright: '30%'\n\t},\n    locIcon: {\n        color: '#2C7BE5',\n        fontSize: 40\n    },\n    plusIcon: {\n        color: '#2C7BE5',\n        fontSize: 25,\n        marginTop: 10\n    },\n    titleText: {\n        fontSize: 15,\n        fontWeight: 700,\n        padding: 20\n    },\n    newAddress: {\n        display: 'flex',\n        justifyContent: 'start',\n        flexDirection: 'row',\n        cursor: 'pointer',\n        marginRight: 13\n    },\n    newAddressTitle: {\n        color: '#2C7BE5',\n        fontSize: 13,\n        marginTop: 10,\n        padding: 2,\n        fontFamily: 'IranSans',\n        marginRight: 5\n    }\n})\nconst AddressContainer = () => {\n    const classes = useStyles();\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const [value, setValue] = useState('');\n\n    const token = useSelector(state => state.token);\n    const orderId = useSelector(state => state.orderId); \n    const [addresses, setAddresses ] = useState({\n        list: []\n    });\n    const getAddresses = async () => {\n        delete axiosAuth.defaults.headers.common['user_id'];\n        axiosAuth.defaults.headers.common['Authorization']=`Bearer ${token}`;\n        delete axiosAuth.defaults.headers.common['user_id'];\n        const response = await axiosAuth.get('/user/v1.0/profile/attributes')\n         \n        setAddresses({\n            ...addresses,\n            list: response.data.result.data.addresses\n        });\n        dispatch({addresses: response.data.result.data.addresses, type: 'SET_ADDRESSES'});\n    }\n    const setAddressAndShipment = (address)=> {\n        dispatch({shipmentOrder: address, type: 'SET_SHIPMENT_ORDER'});\n    }\n    const renderAddresses = () => {\n        return(\n            addresses.list.map((address, idx) => {\n                return <SingleAddress address={address} key={idx}/>\n            })\n        )\n    }\n    const handleChange = (event) =>{\n        setValue(event.target.value);\n         \n        const addressItem = addresses.list.filter(i => i.address === event.target.value)[0];\n        debugger\n        dispatch({shipmentOrder: addressItem, type:'SET_SHIPMENT_ORDER'});\n    }\n    useEffect(() => {\n        if(token !== null)\n        getAddresses();\n        else history.push('/auth/login')\n    },[])\n    return(\n        <div className={classes.root}>\n            <HeaderText text='آدرس تحویل سفارش خود را انتخاب نمایید' icon='PinDropIcon'/>\n            <RadioGroup \n            value={value} \n            onChange = {handleChange}>\n            {\n                renderAddresses()\n            }\n            <Button disabled={value === '' ? true : false} onClick={() =>{history.push('/deliveryTime')}} className={classes.button}>انتخاب زمان تحویل</Button>\n\n            </RadioGroup>\n            <div className={classes.newAddress}>\n            <AddCircleIcon className={classes.plusIcon} />\n            <Button className={classes.newAddressTitle} onClick={() => {history.push('/createaddress')}}>آدرس جدید</Button>\n        \n            </div>\n        </div>\n    )\n}\nexport default AddressContainer;"]},"metadata":{},"sourceType":"module"}