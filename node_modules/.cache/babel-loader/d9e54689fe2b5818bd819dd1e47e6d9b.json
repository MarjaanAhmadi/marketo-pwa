{"ast":null,"code":"import _regeneratorRuntime from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _title,\n    _jsxFileName = \"/home/marjaan/sandBox/projects/marketo-pwa/src/components/Home/MostSellers/MostSellers.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport CarouselItems from '../../../mainComponents/Carousel/Carousel';\nimport products from '../../../mocks/products';\nimport ArrorwBackIcon from '@material-ui/icons/ArrowBackIos';\nimport { useHistory } from 'react-router-dom';\nimport ProductReq from '../../../requests/products';\nimport { useSelector, useDispatch } from 'react-redux';\nvar useStyles = makeStyles({\n  root: {\n    marginTop: 15,\n    alignItems: 'center'\n  },\n  mostSellerTitles: {\n    justifyContent: 'space-between',\n    flexDirection: \"row\",\n    display: 'flex'\n  },\n  title: (_title = {\n    fontSize: 14,\n    marginBottom: 15,\n    color: '#858585'\n  }, _defineProperty(_title, \"fontSize\", 14), _defineProperty(_title, \"fontSize\", '1rem'), _defineProperty(_title, \"lineHeight\", '1.571'), _title),\n  more: {\n    color: '#9A9A9A',\n    fontSize: 11,\n    alignSelf: 'center'\n  },\n  moreIcon: {\n    color: '#9A9A9A'\n  }\n});\n\nvar MostSellers = function MostSellers() {\n  var history = useHistory();\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      showMore = _useState2[0],\n      setShowMore = _useState2[1];\n\n  var loading = useSelector(function (state) {\n    return state.loading;\n  });\n  var dispatch = useDispatch();\n\n  var _useState3 = useState({\n    size: 10,\n    start: 0,\n    status: 'ACTIVE',\n    // categoryId: 3,\n    topselles: true\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      params = _useState4[0],\n      setParams = _useState4[1];\n\n  var _useState5 = useState({\n    list: []\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mostSellers = _useState6[0],\n      setMostSellers = _useState6[1];\n\n  var showMoreFunc = function showMoreFunc(more) {\n    setShowMore(more);\n  };\n\n  var getMostSellers =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              dispatch({\n                loading: true,\n                type: 'SHOW_LOADING'\n              });\n              _context.next = 4;\n              return ProductReq(params, null);\n\n            case 4:\n              response = _context.sent;\n              if (response.data) setMostSellers(_objectSpread({}, mostSellers, {\n                list: response.data\n              }));\n              dispatch({\n                loading: false,\n                type: 'SHOW_LOADING'\n              });\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              dispatch({\n                loading: false,\n                type: 'SHOW_LOADING'\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function getMostSellers() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getMostSellers();\n  }, []);\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.mostSellerTitles,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"\\u067E\\u0631\\u0641\\u0631\\u0648\\u0634\\u062A\\u0631\\u06CC\\u0646 \\u0645\\u062D\\u0635\\u0648\\u0644\\u0627\\u062A\"), showMore ? React.createElement(\"span\", {\n    className: classes.more,\n    onClick: function onClick() {\n      history.push('/products');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"\\u0628\\u06CC\\u0634\\u062A\\u0631\", React.createElement(ArrorwBackIcon, {\n    className: classes.more,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })) : ''), React.createElement(CarouselItems, {\n    setMore: function setMore(more) {\n      showMoreFunc(more);\n    },\n    data: mostSellers.list,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }));\n};\n\nexport default MostSellers;","map":{"version":3,"sources":["/home/marjaan/sandBox/projects/marketo-pwa/src/components/Home/MostSellers/MostSellers.jsx"],"names":["React","useState","useEffect","makeStyles","CarouselItems","products","ArrorwBackIcon","useHistory","ProductReq","useSelector","useDispatch","useStyles","root","marginTop","alignItems","mostSellerTitles","justifyContent","flexDirection","display","title","fontSize","marginBottom","color","more","alignSelf","moreIcon","MostSellers","history","showMore","setShowMore","loading","state","dispatch","size","start","status","topselles","params","setParams","list","mostSellers","setMostSellers","showMoreFunc","getMostSellers","type","response","data","classes","push"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {makeStyles} from '@material-ui/styles';\nimport CarouselItems from '../../../mainComponents/Carousel/Carousel';\nimport products from '../../../mocks/products';\nimport ArrorwBackIcon from '@material-ui/icons/ArrowBackIos';\nimport { useHistory } from 'react-router-dom';\nimport ProductReq from '../../../requests/products';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 15,\n        alignItems: 'center'\n    },\n    mostSellerTitles : {\n        justifyContent: 'space-between',\n        flexDirection: \"row\",\n        display: 'flex'\n    },\n    title: {\n        fontSize: 14,\n        marginBottom: 15,\n        color: '#858585',\n        fontSize: 14,\n        fontSize: '1rem',\n        lineHeight: '1.571'       \n    },\n    more: {\n        color: '#9A9A9A',\n        fontSize: 11,\n        alignSelf: 'center'\n    },\n    moreIcon: {\n        color: '#9A9A9A'\n    }\n})\n\nconst MostSellers = () => {\n    const history = useHistory();\n    const [showMore, setShowMore] = useState(true)\n    const loading = useSelector(state => state.loading);\n    const dispatch = useDispatch();\n    const [params, setParams] = useState({\n        size: 10,\n        start: 0,\n        status: 'ACTIVE',\n        // categoryId: 3,\n        topselles: true\n    });\n    const [mostSellers, setMostSellers] = useState({\n        list: []\n    })\n    const showMoreFunc = (more) => {\n        setShowMore(more);\n    }\n    const getMostSellers = async () => {\n        try {\n            dispatch({loading: true, type: 'SHOW_LOADING'});\n            const response = await ProductReq(params, null);\n            if(response.data)\n            setMostSellers({\n                ...mostSellers,\n                list: response.data\n            });\n            dispatch({loading: false, type: 'SHOW_LOADING'});\n\n        } catch (error) {\n            dispatch({loading: false, type: 'SHOW_LOADING'});\n            \n        }\n    }\n    useEffect(() => {\n        getMostSellers();\n    },[])\n    const classes = useStyles();\n    return(\n        <div className={classes.root}>\n            <div className={classes.mostSellerTitles}>\n            <span className={classes.title}>پرفروشترین محصولات</span> \n            {showMore ? <span className={classes.more} onClick={()=>{history.push('/products')}}>بیشتر<ArrorwBackIcon className={classes.more}/></span> : ''}\n            </div>\n            <CarouselItems setMore={(more) => {showMoreFunc(more)}} data={mostSellers.list}/>\n        </div>\n    )\n}\nexport default MostSellers;"]},"metadata":{},"sourceType":"module"}