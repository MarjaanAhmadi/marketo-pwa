{"ast":null,"code":"import _regeneratorRuntime from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/marjaan/sandBox/projects/marketo-pwa/src/containers/ShoppingCardContainer/index.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport ShoppingCardList from '../../components/ShoppingCard/ShoppingCardList/ShoppingCardList';\nimport shoppingCard from '../../mocks/shoppingCard';\nimport PayDetails from '../../components/ShoppingCard/PayDetails/PayDetails';\nimport FullButton from '../../mainComponents/FullButton/FullButton';\nimport orderReq from '../../requests/oredrs';\nimport { useHistory } from 'react-router-dom';\nvar useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    flexDirection: 'column'\n  },\n  noItem: {\n    alignSelf: 'center',\n    padding: 53\n  },\n  paySection: {\n    position: 'fixed',\n    bottom: 100,\n    width: '97%'\n  }\n});\n\nvar ShoppingCardContainer = function ShoppingCardContainer() {\n  var classes = useStyles();\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var orderId = useSelector(function (state) {\n    return state.orderId;\n  });\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      cardList = _useState2[0],\n      setCardList = _useState2[1];\n\n  var fetchOrders =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!orderId) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.prev = 1;\n              dispatch({\n                loading: true,\n                type: 'SHOW_LOADING'\n              });\n              _context.next = 5;\n              return orderReq('GET', orderId, null);\n\n            case 5:\n              response = _context.sent;\n              setCardList(response.data);\n              dispatch({\n                loading: false,\n                type: 'SHOW_LOADING'\n              });\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](1);\n              dispatch({\n                loading: false,\n                type: 'SHOW_LOADING'\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 10]]);\n    }));\n\n    return function fetchOrders() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchOrders();\n  }, []);\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, cardList !== {} && cardList.items !== undefined ? cardList.items.length > 0 ? React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(ShoppingCardList, {\n    data: cardList !== {} ? cardList.items : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.paySection,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(PayDetails, {\n    countItems: cardList !== {} ? cardList.items !== undefined ? cardList.items : 0 : 0,\n    totalAmount: cardList.totalAmount,\n    payableAmount: cardList.payableAmount,\n    coupon: cardList.couponCode !== null ? 500 : 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(FullButton, {\n    title: \"\\u0627\\u0646\\u062A\\u062E\\u0627\\u0628 \\u0622\\u062F\\u0631\\u0633\",\n    clicked: function clicked() {\n      history.push('/addresses');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }))) : React.createElement(\"span\", {\n    className: classes.noItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"\\u0633\\u0628\\u062F \\u062E\\u0631\\u06CC\\u062F \\u0634\\u0645\\u0627 \\u062E\\u0627\\u0644\\u06CC \\u0627\\u0633\\u062A\") : React.createElement(\"span\", {\n    className: classes.noItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"\\u0633\\u0628\\u062F \\u062E\\u0631\\u06CC\\u062F \\u0634\\u0645\\u0627 \\u062E\\u0627\\u0644\\u06CC \\u0627\\u0633\\u062A\"));\n};\n\nexport default ShoppingCardContainer;","map":{"version":3,"sources":["/home/marjaan/sandBox/projects/marketo-pwa/src/containers/ShoppingCardContainer/index.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","makeStyles","ShoppingCardList","shoppingCard","PayDetails","FullButton","orderReq","useHistory","useStyles","root","display","justifyContent","flexDirection","noItem","alignSelf","padding","paySection","position","bottom","width","ShoppingCardContainer","classes","dispatch","history","orderId","state","cardList","setCardList","fetchOrders","loading","type","response","data","items","undefined","length","totalAmount","payableAmount","couponCode","push"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {makeStyles} from '@material-ui/styles';\nimport ShoppingCardList from '../../components/ShoppingCard/ShoppingCardList/ShoppingCardList';\nimport shoppingCard from '../../mocks/shoppingCard';\nimport PayDetails from '../../components/ShoppingCard/PayDetails/PayDetails';\nimport FullButton from '../../mainComponents/FullButton/FullButton';\nimport orderReq from '../../requests/oredrs';\nimport { useHistory } from 'react-router-dom';\n\n\nconst useStyles = makeStyles({\n    root: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        flexDirection: 'column'\n    },\n    noItem: {\n        alignSelf: 'center',\n        padding: 53\n    },\n    paySection: {\n        position: 'fixed',\n        bottom: 100,\n        width: '97%'\n    }\n})\nconst ShoppingCardContainer = () => {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const orderId = useSelector(state => state.orderId);\n    const [cardList, setCardList] = useState({})\n    \n    const fetchOrders = async () => {\n     \n        if(orderId) \n        {\n            try {\n                dispatch({loading: true, type:'SHOW_LOADING'})\n                const response = await orderReq('GET', orderId, null);\n                setCardList(response.data);\n                 \n                dispatch({loading: false, type:'SHOW_LOADING'})\n            } catch (error) {\n                dispatch({loading: false, type:'SHOW_LOADING'})\n            }\n        } \n    }\n    \n    useEffect(() => {\n        fetchOrders();\n    },[])\n    return(\n        <div className={classes.root}>\n            {\n                \n                cardList !== {} && cardList.items !== undefined ? cardList.items.length > 0 ?\n                <React.Fragment>\n                    <ShoppingCardList data={cardList !== {} ? cardList.items : null }/>\n            <div className={classes.paySection}>\n            <PayDetails \n                countItems={cardList !== {} ? cardList.items !== undefined ? cardList.items : 0 : 0} \n                totalAmount={cardList.totalAmount} \n                payableAmount={cardList.payableAmount}\n                coupon={cardList.couponCode !== null ? 500 : 0}\n                />\n            <FullButton title='انتخاب آدرس' clicked={() => {history.push('/addresses')}}/>\n            </div>\n                </React.Fragment>\n            : <span className={classes.noItem}>سبد خرید شما خالی است</span>\n            :<span className={classes.noItem}>سبد خرید شما خالی است</span>\n            }\n        </div>\n    )\n}\nexport default ShoppingCardContainer;"]},"metadata":{},"sourceType":"module"}