{"ast":null,"code":"import _objectSpread from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/marjaan/sandBox/projects/marketo-pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/marjaan/sandBox/projects/marketo-pwa/src/components/Address/CrudAddress/CreateAddress/Map/MapCont.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport MapGL, { Marker, Source, Layer, GeolocateControl, NavigationControl, LanguageControl } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Button } from '@material-ui/core';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nvar useStyle = makeStyles({\n  button: {\n    position: 'fixed',\n    bottom: \"10%\",\n    backgroundColor: '#2C7BE5',\n    color: 'white',\n    borderRadius: 10,\n    width: '40%',\n    fontFamily: 'IranSans',\n    right: '30%'\n  },\n  locIcon: {\n    fontSize: 40,\n    color: '#2C7BE5'\n  }\n});\nvar MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoiaGFkaWVza2FuZGFyaSIsImEiOiJjam9uMDdmMDkxNnY2M29wYzZxNzc3MzVwIn0.q4V2ENmVFJmGegA-ylUDdg';\nmapboxgl.setRTLTextPlugin('https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js', null, true // Lazy load the plugin\n);\nexport default function MapCont(props) {\n  var classes = useStyle();\n\n  var _useState = useState({\n    latitude: 35.70064694792973,\n    longitude: 51.40315401697205,\n    zoom: 10\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      viewport = _useState2[0],\n      setViewport = _useState2[1];\n\n  var onDragEnd = function onDragEnd(lngLat) {\n    setViewport(_objectSpread({}, viewport, {\n      latitude: lngLat.lngLat.lat,\n      longitude: lngLat.lngLat.lng\n    }));\n  };\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedLayer = _useState4[0],\n      setSelectedLayer = _useState4[1];\n\n  var layerClicked = function layerClicked(e) {\n    setSelectedLayer(e.features[0].properties);\n  }; // https://raw.githubusercontent.com/yassermzh/iran-map/master/maps/tehran_iran_admin.geojson\n\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(MapGL, {\n    style: {\n      width: '100%',\n      height: '85vh'\n    },\n    accessToken: MAPBOX_ACCESS_TOKEN,\n    latitude: viewport.latitude,\n    longitude: viewport.longitude,\n    zoom: viewport.zoom,\n    onViewportChange: function onViewportChange(viewport) {\n      setViewport(viewport);\n    },\n    onClick: onDragEnd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Source, {\n    id: \"maine\",\n    type: \"geojson\",\n    data: \"https://raw.githubusercontent.com/yassermzh/iran-map/master/maps/tehran_iran_admin.geojson\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(Layer, {\n    id: \"maine\",\n    type: \"fill\",\n    source: \"maine\",\n    paint: {\n      'fill-color': '#088',\n      'fill-opacity': 0.1\n    },\n    onClick: layerClicked,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(Source, {\n    id: \"lineS\",\n    type: \"geojson\",\n    data: \"https://raw.githubusercontent.com/yassermzh/iran-map/master/maps/tehran_iran_admin.geojson\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(Layer, {\n    id: \"lineS\",\n    type: \"line\",\n    source: \"lineS\",\n    paint: {\n      'line-color': '#e8b',\n      'line-width': 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(Marker, {\n    longitude: viewport.longitude,\n    latitude: viewport.latitude,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: function onClick(event) {\n      event.persist();\n      event.nativeEvent.stopImmediatePropagation();\n      event.stopPropagation();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(LocationOnIcon, {\n    className: classes.locIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }))), React.createElement(LanguageControl, {\n    defaultLanguage: \"mul\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(GeolocateControl, {\n    position: \"top-left\",\n    onError: function onError() {\n      console.log(\"error\");\n    },\n    onGeolocate: function onGeolocate() {\n      console.log(\"geolocate\");\n    },\n    showUserLocation: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(NavigationControl, {\n    showCompass: true,\n    showZoom: true,\n    position: \"top-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  })), React.createElement(Button, {\n    className: classes.button,\n    onClick: function onClick() {\n      props.setLocation(viewport);\n      props.showData(props.show ? false : true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"\\u062A\\u0627\\u06CC\\u06CC\\u062F \\u0645\\u062D\\u0644\"));\n}","map":{"version":3,"sources":["/home/marjaan/sandBox/projects/marketo-pwa/src/components/Address/CrudAddress/CreateAddress/Map/MapCont.jsx"],"names":["React","useState","useEffect","mapboxgl","MapGL","Marker","Source","Layer","GeolocateControl","NavigationControl","LanguageControl","makeStyles","Button","LocationOnIcon","useStyle","button","position","bottom","backgroundColor","color","borderRadius","width","fontFamily","right","locIcon","fontSize","MAPBOX_ACCESS_TOKEN","setRTLTextPlugin","MapCont","props","classes","latitude","longitude","zoom","viewport","setViewport","onDragEnd","lngLat","lat","lng","selectedLayer","setSelectedLayer","layerClicked","e","features","properties","height","event","persist","nativeEvent","stopImmediatePropagation","stopPropagation","console","log","setLocation","showData","show"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport MapGL, { Marker, Source, Layer, GeolocateControl, NavigationControl, LanguageControl  } from '@urbica/react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport {  makeStyles } from \"@material-ui/styles\";\nimport { Button } from '@material-ui/core';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\n\nconst useStyle = makeStyles({\n\tbutton: {\n\t\tposition: 'fixed',\n\t\tbottom: \"10%\",\n\t\tbackgroundColor: '#2C7BE5',\n\t\tcolor: 'white',\n\t\tborderRadius: 10,\n\t\twidth: '40%',\n\t\tfontFamily: 'IranSans',\n\t\tright: '30%'\n\t},\n\tlocIcon: {\n\t\tfontSize: 40,\n\t\tcolor: '#2C7BE5'\n\t}\n})\n\nconst MAPBOX_ACCESS_TOKEN =\n\t'pk.eyJ1IjoiaGFkaWVza2FuZGFyaSIsImEiOiJjam9uMDdmMDkxNnY2M29wYzZxNzc3MzVwIn0.q4V2ENmVFJmGegA-ylUDdg';\n\tmapboxgl.setRTLTextPlugin(\n\t\t'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js',\n\t\tnull,\n\t\ttrue // Lazy load the plugin\n\t  );\nexport default function MapCont(props) {\n\tconst classes = useStyle();\n\tconst [ viewport, setViewport ] = useState({\n\t\tlatitude: 35.70064694792973,\n\t    longitude: 51.40315401697205,\n\t\tzoom: 10\n  });\n  const onDragEnd = (lngLat) => {\n    \n    setViewport({\n      ...viewport,\n      latitude: lngLat.lngLat.lat,\n      longitude: lngLat.lngLat.lng\n    });\n  };\n\tconst [ selectedLayer, setSelectedLayer ] = useState(null);\n\n\tconst layerClicked = (e) => {\n\t\tsetSelectedLayer(e.features[0].properties);\n\t};\n\n\n\t// https://raw.githubusercontent.com/yassermzh/iran-map/master/maps/tehran_iran_admin.geojson\n\treturn (\n\t\t<div>\n\t\t\t<MapGL\n\t\t\t\tstyle={{ width: '100%', height: '85vh' }}\n\t\t\t\taccessToken={MAPBOX_ACCESS_TOKEN}\n\t\t\t\tlatitude={viewport.latitude}\n\t\t\t\tlongitude={viewport.longitude}\n\t\t\t\tzoom={viewport.zoom}\n\t\t\t\tonViewportChange={(viewport) => {setViewport(viewport)}}\n\t\t\t\tonClick={onDragEnd}\n\t\t\t\t\t>\n\t\t\t\t<Source\n\t\t\t\t\tid=\"maine\"\n\t\t\t\t\ttype=\"geojson\"\n\t\t\t\t\tdata=\"https://raw.githubusercontent.com/yassermzh/iran-map/master/maps/tehran_iran_admin.geojson\"\n\t\t\t\t/>\n\t\t\t\t<Layer\n\t\t\t\t\tid=\"maine\"\n\t\t\t\t\ttype=\"fill\"\n\t\t\t\t\tsource=\"maine\"\n\t\t\t\t\tpaint={{\n\t\t\t\t\t\t'fill-color': '#088',\n\t\t\t\t\t\t'fill-opacity': 0.1\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={layerClicked}\n\t\t\t\t/>\n\t\t\t\t<Source\n\t\t\t\t\tid=\"lineS\"\n\t\t\t\t\ttype=\"geojson\"\n\t\t\t\t\tdata=\"https://raw.githubusercontent.com/yassermzh/iran-map/master/maps/tehran_iran_admin.geojson\"\n\t\t\t\t/>\n\t\t\t\t<Layer\n\t\t\t\t\tid=\"lineS\"\n\t\t\t\t\ttype=\"line\"\n\t\t\t\t\tsource=\"lineS\"\n\t\t\t\t\tpaint={{\n\t\t\t\t\t\t'line-color': '#e8b',\n\t\t\t\t\t\t'line-width': 1\n\t\t\t\t\t}}\n        \n        />\n\n\n<Marker longitude={viewport.longitude} latitude={viewport.latitude}>\n        <div onClick={(event) => {\n\t\t\tevent.persist();\n\t\t\tevent.nativeEvent.stopImmediatePropagation();\n\t\t\tevent.stopPropagation();\n        }}>\n\t\t\t<LocationOnIcon  className={classes.locIcon}/>\n        </div>\n      </Marker>\n\t  <LanguageControl defaultLanguage=\"mul\"/>\n      <GeolocateControl\n      position=\"top-left\"\n      onError={()=>{console.log(\"error\")}} onGeolocate={() =>{console.log(\"geolocate\")}} showUserLocation={true}\n\t  />\n      <NavigationControl showCompass showZoom position='top-right' />\n\t\t\t</MapGL>\n      \t\t<Button className={classes.button} onClick={() => {props.setLocation(viewport);props.showData(props.show? false : true)}}>تایید محل</Button>\n      \n\t\t\t\n\t\t</div>\n\t);\n}\n\n"]},"metadata":{},"sourceType":"module"}